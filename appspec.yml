version: 0.0
os: linux

files:
  - source: /
    destination: /home/ubuntu/marketforge

hooks:
  BeforeInstall:
    # ğŸ’¥ YENÄ° ADIM: SahipliÄŸi 'ubuntu' kullanÄ±cÄ±sÄ±na vermek iÃ§in bu betiÄŸi ekliyoruz.
    - location: scripts/change_ownership.sh
      timeout: 300
      runas: root # Bu komut root olarak Ã§alÄ±ÅŸmalÄ± ki sahipliÄŸi deÄŸiÅŸtirebilsin.

    # Mevcut before_install.sh betiÄŸiniz
    - location: scripts/before_install.sh
      timeout: 300

  AfterInstall:
    - location: scripts/after_install.sh
      timeout: 300
      runas: ubuntu # ArtÄ±k bu adÄ±mda izin sorunu yaÅŸamayÄ±z.

  ApplicationStart:
    - location: scripts/start_server.sh
      timeout: 300
      runas: ubuntu
